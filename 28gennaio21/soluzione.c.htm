<!DOCTYPE html PUBLIC "-//IETF//DTD HTML//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="GENERATOR" content="GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite">
<title>soluzione.c</title>
</head>
<body bgcolor="white">
<pre><tt><font color="#000000">001:</font> <b><font color="#000080">#include</font></b><font color="#FF0000">&lt;stdio.h&gt;</font>
<font color="#000000">002:</font> <b><font color="#000080">#include</font></b><font color="#FF0000">&lt;stdlib.h&gt;</font>
<font color="#000000">003:</font> <b><font color="#000080">#include</font></b><font color="#FF0000">&lt;string.h&gt;</font>
<font color="#000000">004:</font> 
<font color="#000000">005:</font> 
<font color="#000000">006:</font> 
<font color="#000000">007:</font> <b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font>
<font color="#000000">008:</font> <font color="#FF0000">{</font>
<font color="#000000">009:</font>   <font color="#009900">char</font> nome<font color="#990000">[</font><font color="#993399">41</font><font color="#990000">],</font> provincia<font color="#990000">[</font><font color="#993399">3</font><font color="#990000">],</font> regione<font color="#990000">[</font><font color="#993399">4</font><font color="#990000">],</font> cap<font color="#990000">[</font><font color="#993399">6</font><font color="#990000">];</font> <i><font color="#9A1900">// aumentati di +1 per carattere nullo terminazione stringhe</font></i>
<font color="#000000">010:</font>   <font color="#009900">unsigned</font> <font color="#009900">int</font> popolazione<font color="#990000">;</font>
<font color="#000000">011:</font> <font color="#FF0000">}</font><font color="#990000">;</font>
<font color="#000000">012:</font> 
<font color="#000000">013:</font> <font color="#009900">int</font> <b><font color="#000000">confrontapopolazione</font></b><font color="#990000">(</font><b><font color="#0000FF">const</font></b> <font color="#009900">void</font> <font color="#990000">*</font>a<font color="#990000">,</font> <b><font color="#0000FF">const</font></b> <font color="#009900">void</font> <font color="#990000">*</font>b<font color="#990000">)</font>
<font color="#000000">014:</font> <font color="#FF0000">{</font>
<font color="#000000">015:</font>   <b><font color="#0000FF">const</font></b> <b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font> <font color="#990000">*</font>pa<font color="#990000">=</font>a<font color="#990000">;</font>
<font color="#000000">016:</font>   <b><font color="#0000FF">const</font></b> <b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font> <font color="#990000">*</font>pb<font color="#990000">=</font>b<font color="#990000">;</font>
<font color="#000000">017:</font>   <b><font color="#0000FF">return</font></b> pa<font color="#990000">-&gt;</font>popolazione <font color="#990000">-</font>  pb<font color="#990000">-&gt;</font>popolazione<font color="#990000">;</font>
<font color="#000000">018:</font> <font color="#FF0000">}</font>
<font color="#000000">019:</font> 
<font color="#000000">020:</font> 
<font color="#000000">021:</font> <font color="#009900">int</font> <b><font color="#000000">confrontanome</font></b><font color="#990000">(</font><b><font color="#0000FF">const</font></b> <font color="#009900">void</font> <font color="#990000">*</font>a<font color="#990000">,</font> <b><font color="#0000FF">const</font></b> <font color="#009900">void</font> <font color="#990000">*</font>b<font color="#990000">)</font>
<font color="#000000">022:</font> <font color="#FF0000">{</font>
<font color="#000000">023:</font>   <b><font color="#0000FF">const</font></b> <b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font> <font color="#990000">*</font>pa<font color="#990000">=</font>a<font color="#990000">;</font>
<font color="#000000">024:</font>   <b><font color="#0000FF">const</font></b> <b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font> <font color="#990000">*</font>pb<font color="#990000">=</font>b<font color="#990000">;</font>
<font color="#000000">025:</font>   <b><font color="#0000FF">return</font></b> <b><font color="#000000">strcmp</font></b><font color="#990000">(</font>pa<font color="#990000">-&gt;</font>nome<font color="#990000">,</font> pb<font color="#990000">-&gt;</font>nome<font color="#990000">);</font>
<font color="#000000">026:</font> <font color="#FF0000">}</font>
<font color="#000000">027:</font> 
<font color="#000000">028:</font> 
<font color="#000000">029:</font> <font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">(</font><font color="#009900">int</font> argc<font color="#990000">,</font> <font color="#009900">char</font> <font color="#990000">**</font>argv<font color="#990000">)</font><font color="#FF0000">{</font>
<font color="#000000">030:</font>   <font color="#008080">FILE</font> <font color="#990000">*</font>fp<font color="#990000">=</font><b><font color="#000000">fopen</font></b><font color="#990000">(</font><font color="#FF0000">"comuni.csv"</font><font color="#990000">,</font> <font color="#FF0000">"r"</font><font color="#990000">);</font>
<font color="#000000">031:</font> 
<font color="#000000">032:</font>   <b><font color="#0000FF">if</font></b><font color="#990000">(!</font>fp<font color="#990000">)</font>
<font color="#000000">033:</font>   <font color="#FF0000">{</font>
<font color="#000000">034:</font>     <b><font color="#000000">perror</font></b><font color="#990000">(</font><font color="#FF0000">"Errore apertura file"</font><font color="#990000">);</font>
<font color="#000000">035:</font>     <b><font color="#000000">exit</font></b><font color="#990000">(</font>EXIT_FAILURE<font color="#990000">);</font>
<font color="#000000">036:</font>   <font color="#FF0000">}</font>
<font color="#000000">037:</font> 
<font color="#000000">038:</font>   <i><font color="#9A1900">//PUNTO 1</font></i>
<font color="#000000">039:</font>   <font color="#009900">char</font> riga<font color="#990000">[</font><font color="#993399">71</font><font color="#990000">];</font>
<font color="#000000">040:</font>   <font color="#009900">int</font> nrighe<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font>
<font color="#000000">041:</font>   <b><font color="#0000FF">while</font></b><font color="#990000">(</font><b><font color="#000000">fscanf</font></b><font color="#990000">(</font>fp<font color="#990000">,</font><font color="#FF0000">" %[^</font><font color="#CC33CC">\n</font><font color="#FF0000">]"</font><font color="#990000">,</font>riga<font color="#990000">)</font> <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font> nrighe<font color="#990000">++;</font> <i><font color="#9A1900">// lo spazio iniziale mi toglie eventuali spaziature tra cui lo \n dal buffer</font></i>
<font color="#000000">042:</font>   <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"Il file contiene %d righe</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> nrighe<font color="#990000">);</font>
<font color="#000000">043:</font> 
<font color="#000000">044:</font>   <i><font color="#9A1900">// PUNTO 2</font></i>
<font color="#000000">045:</font> 
<font color="#000000">046:</font>   <i><font color="#9A1900">// alloco array dinamicamente</font></i>
<font color="#000000">047:</font>   <b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font> <font color="#990000">*</font>dati<font color="#990000">=</font><b><font color="#000000">malloc</font></b><font color="#990000">(</font>nrighe<font color="#990000">*</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font><font color="#990000">));</font>
<font color="#000000">048:</font>   <b><font color="#0000FF">if</font></b><font color="#990000">(!</font>dati<font color="#990000">)</font>
<font color="#000000">049:</font>   <font color="#FF0000">{</font>
<font color="#000000">050:</font>     <b><font color="#000000">fprintf</font></b><font color="#990000">(</font>stderr<font color="#990000">,</font> <font color="#FF0000">"Errore in allocazione di %ld byte</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> nrighe<font color="#990000">*</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font><font color="#990000">));</font>
<font color="#000000">051:</font>     <b><font color="#000000">exit</font></b><font color="#990000">(</font>EXIT_FAILURE<font color="#990000">);</font>
<font color="#000000">052:</font>   <font color="#FF0000">}</font>
<font color="#000000">053:</font> 
<font color="#000000">054:</font>   <i><font color="#9A1900">//  rileggo file</font></i>
<font color="#000000">055:</font>   <b><font color="#000000">fseek</font></b><font color="#990000">(</font>fp<font color="#990000">,</font> <font color="#993399">0</font><font color="#990000">,</font> SEEK_SET<font color="#990000">);</font>
<font color="#000000">056:</font>   <font color="#009900">int</font> i<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font> <i><font color="#9A1900">// contatore posizione array</font></i>
<font color="#000000">057:</font>   <b><font color="#0000FF">while</font></b><font color="#990000">(</font><b><font color="#000000">fscanf</font></b><font color="#990000">(</font>fp<font color="#990000">,</font><font color="#FF0000">" %[^;];%[^;];%[^;];%[^;];%u"</font><font color="#990000">,</font>
<font color="#000000">058:</font>   dati<font color="#990000">[</font>i<font color="#990000">].</font>nome<font color="#990000">,</font>
<font color="#000000">059:</font>   dati<font color="#990000">[</font>i<font color="#990000">].</font>provincia<font color="#990000">,</font>
<font color="#000000">060:</font>   dati<font color="#990000">[</font>i<font color="#990000">].</font>regione<font color="#990000">,</font>
<font color="#000000">061:</font>   dati<font color="#990000">[</font>i<font color="#990000">].</font>cap<font color="#990000">,</font>
<font color="#000000">062:</font>   <font color="#990000">&amp;</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>popolazione
<font color="#000000">063:</font>   <font color="#990000">)</font> <font color="#990000">==</font> <font color="#993399">5</font> <font color="#990000">)</font>
<font color="#000000">064:</font>   <font color="#FF0000">{</font>
<font color="#000000">065:</font>     <font color="#990000">++</font>i<font color="#990000">;</font>
<font color="#000000">066:</font>   <font color="#FF0000">}</font>
<font color="#000000">067:</font>   <b><font color="#000000">fclose</font></b><font color="#990000">(</font>fp<font color="#990000">);</font>
<font color="#000000">068:</font> 
<font color="#000000">069:</font>   <i><font color="#9A1900">// punto 3</font></i>
<font color="#000000">070:</font>   <b><font color="#0000FF">while</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">)</font>
<font color="#000000">071:</font>   <font color="#FF0000">{</font>
<font color="#000000">072:</font>     <font color="#009900">int</font> scelta<font color="#990000">;</font>
<font color="#000000">073:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"Inserisci:</font><font color="#CC33CC">\n\t</font><font color="#FF0000">0 esci</font><font color="#CC33CC">\n\t</font><font color="#FF0000">1 ricerca per CAP</font><font color="#CC33CC">\n\t</font><font color="#FF0000">2 report regione</font><font color="#CC33CC">\n\t</font><font color="#FF0000">3 report provincia</font><font color="#CC33CC">\n\t</font><font color="#FF0000">4 ordinamento per popolazione</font><font color="#CC33CC">\n\t</font><font color="#FF0000">5 ordinamento per nome comune</font><font color="#CC33CC">\n\t</font><font color="#FF0000">6 salvataggio file</font><font color="#CC33CC">\n</font><font color="#FF0000">Scelta: "</font><font color="#990000">);</font>
<font color="#000000">074:</font> 
<font color="#000000">075:</font>     <b><font color="#000000">scanf</font></b><font color="#990000">(</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>scelta<font color="#990000">);</font>
<font color="#000000">076:</font>     <b><font color="#0000FF">switch</font></b><font color="#990000">(</font>scelta<font color="#990000">)</font>
<font color="#000000">077:</font>     <font color="#FF0000">{</font>
<font color="#000000">078:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">0</font><font color="#990000">:</font>
<font color="#000000">079:</font>   <b><font color="#000000">exit</font></b><font color="#990000">(</font>EXIT_SUCCESS<font color="#990000">);</font>
<font color="#000000">080:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">1</font><font color="#990000">:</font>
<font color="#000000">081:</font>   <font color="#FF0000">{</font>  <i><font color="#9A1900">// se definisco variabili locali devo racchiudere il tutto in un blocco di codice negli switch-case</font></i>
<font color="#000000">082:</font>     <font color="#009900">char</font> cap<font color="#990000">[</font><font color="#993399">6</font><font color="#990000">];</font>
<font color="#000000">083:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"Inserire CAP: "</font><font color="#990000">);</font>
<font color="#000000">084:</font>     <b><font color="#000000">scanf</font></b><font color="#990000">(</font><font color="#FF0000">"%s"</font><font color="#990000">,</font> cap<font color="#990000">);</font> <i><font color="#9A1900">// XXX da non farsi nel mondo reale, meglio fgets(cap,6,stdin);</font></i>
<font color="#000000">085:</font>     <b><font color="#0000FF">for</font></b><font color="#990000">(</font>i<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font> i<font color="#990000">&lt;</font>nrighe <font color="#990000">&amp;&amp;</font> <b><font color="#000000">strcmp</font></b><font color="#990000">(</font>cap<font color="#990000">,</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>cap<font color="#990000">);</font> <font color="#990000">++</font>i<font color="#990000">);</font> <i><font color="#9A1900">// esco se trovo o a fine righe</font></i>
<font color="#000000">086:</font>     <b><font color="#0000FF">if</font></b><font color="#990000">(</font>i<font color="#990000">&lt;</font>nrighe<font color="#990000">)</font>
<font color="#000000">087:</font>       <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"Nome:</font><font color="#CC33CC">\t</font><font color="#FF0000">%s</font><font color="#CC33CC">\n</font><font color="#FF0000">Provincia:</font><font color="#CC33CC">\t</font><font color="#FF0000">%s</font><font color="#CC33CC">\n</font><font color="#FF0000">Regione:</font><font color="#CC33CC">\t</font><font color="#FF0000">%s</font><font color="#CC33CC">\n</font><font color="#FF0000">CAP:</font><font color="#CC33CC">\t</font><font color="#FF0000">%s</font><font color="#CC33CC">\n</font><font color="#FF0000">Popolazione:</font><font color="#CC33CC">\t</font><font color="#FF0000">%u</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>
<font color="#000000">088:</font>     dati<font color="#990000">[</font>i<font color="#990000">].</font>nome<font color="#990000">,</font>
<font color="#000000">089:</font>     dati<font color="#990000">[</font>i<font color="#990000">].</font>provincia<font color="#990000">,</font>
<font color="#000000">090:</font>     dati<font color="#990000">[</font>i<font color="#990000">].</font>regione<font color="#990000">,</font>
<font color="#000000">091:</font>     dati<font color="#990000">[</font>i<font color="#990000">].</font>cap<font color="#990000">,</font>
<font color="#000000">092:</font>     dati<font color="#990000">[</font>i<font color="#990000">].</font>popolazione
<font color="#000000">093:</font>     <font color="#990000">);</font>
<font color="#000000">094:</font>     <b><font color="#0000FF">else</font></b>
<font color="#000000">095:</font>       <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"CAP non trovato</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
<font color="#000000">096:</font>   <font color="#FF0000">}</font>
<font color="#000000">097:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">098:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">2</font><font color="#990000">:</font>
<font color="#000000">099:</font>   <font color="#FF0000">{</font>
<font color="#000000">100:</font>     <font color="#009900">char</font> regione<font color="#990000">[</font><font color="#993399">4</font><font color="#990000">];</font>
<font color="#000000">101:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"Inserire sigla regione: "</font><font color="#990000">);</font>
<font color="#000000">102:</font>     <b><font color="#000000">scanf</font></b><font color="#990000">(</font><font color="#FF0000">"%s"</font><font color="#990000">,</font> regione<font color="#990000">);</font> <i><font color="#9A1900">// XXX come sopra</font></i>
<font color="#000000">103:</font>     <font color="#009900">unsigned</font> <font color="#009900">int</font> totpopolazione<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font>
<font color="#000000">104:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"I Comuni della regione %s sono:</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> regione<font color="#990000">);</font>
<font color="#000000">105:</font>     <b><font color="#0000FF">for</font></b><font color="#990000">(</font>i<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font> i<font color="#990000">&lt;</font>nrighe<font color="#990000">;</font> <font color="#990000">++</font>i<font color="#990000">)</font> <i><font color="#9A1900">// devo scandire tutte le righe</font></i>
<font color="#000000">106:</font>     <font color="#FF0000">{</font>
<font color="#000000">107:</font>       <b><font color="#0000FF">if</font></b><font color="#990000">(!</font><b><font color="#000000">strcmp</font></b><font color="#990000">(</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>regione<font color="#990000">,</font> regione<font color="#990000">))</font>
<font color="#000000">108:</font>       <font color="#FF0000">{</font>
<font color="#000000">109:</font>         <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">" Nome:</font><font color="#CC33CC">\t</font><font color="#FF0000">%s</font><font color="#CC33CC">\n</font><font color="#FF0000"> Popolazione:</font><font color="#CC33CC">\t</font><font color="#FF0000">%u</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>nome<font color="#990000">,</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>popolazione<font color="#990000">);</font>
<font color="#000000">110:</font>         totpopolazione <font color="#990000">+=</font> dati<font color="#990000">[</font>i<font color="#990000">].</font>popolazione<font color="#990000">;</font>
<font color="#000000">111:</font>       <font color="#FF0000">}</font>
<font color="#000000">112:</font>     <font color="#FF0000">}</font>
<font color="#000000">113:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">" Popolazione totale; %u</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> totpopolazione<font color="#990000">);</font>
<font color="#000000">114:</font>   <font color="#FF0000">}</font>
<font color="#000000">115:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">116:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">3</font><font color="#990000">:</font>
<font color="#000000">117:</font>   <font color="#FF0000">{</font>
<font color="#000000">118:</font>     <font color="#009900">char</font> provincia<font color="#990000">[</font><font color="#993399">3</font><font color="#990000">];</font>
<font color="#000000">119:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"Inserire sigla provincia: "</font><font color="#990000">);</font>
<font color="#000000">120:</font>     <b><font color="#000000">scanf</font></b><font color="#990000">(</font><font color="#FF0000">"%s"</font><font color="#990000">,</font> provincia<font color="#990000">);</font> <i><font color="#9A1900">// XXX come sopra</font></i>
<font color="#000000">121:</font>     <font color="#009900">unsigned</font> <font color="#009900">int</font> totpopolazione<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font>
<font color="#000000">122:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"I Comuni della provincia %s sono:</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> provincia<font color="#990000">);</font>
<font color="#000000">123:</font>     <b><font color="#0000FF">for</font></b><font color="#990000">(</font>i<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font> i<font color="#990000">&lt;</font>nrighe<font color="#990000">;</font> <font color="#990000">++</font>i<font color="#990000">)</font> <i><font color="#9A1900">// devo scandire tutte le righe</font></i>
<font color="#000000">124:</font>     <font color="#FF0000">{</font>
<font color="#000000">125:</font>       <b><font color="#0000FF">if</font></b><font color="#990000">(!</font><b><font color="#000000">strcmp</font></b><font color="#990000">(</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>provincia<font color="#990000">,</font> provincia<font color="#990000">))</font>
<font color="#000000">126:</font>       <font color="#FF0000">{</font>
<font color="#000000">127:</font>         <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">" Nome:</font><font color="#CC33CC">\t</font><font color="#FF0000">%s</font><font color="#CC33CC">\n</font><font color="#FF0000"> Popolazione:</font><font color="#CC33CC">\t</font><font color="#FF0000">%u</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>nome<font color="#990000">,</font>dati<font color="#990000">[</font>i<font color="#990000">].</font>popolazione<font color="#990000">);</font>
<font color="#000000">128:</font>         totpopolazione <font color="#990000">+=</font> dati<font color="#990000">[</font>i<font color="#990000">].</font>popolazione<font color="#990000">;</font>
<font color="#000000">129:</font>       <font color="#FF0000">}</font>
<font color="#000000">130:</font>     <font color="#FF0000">}</font>
<font color="#000000">131:</font>     <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">" Popolazione totale; %u</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> totpopolazione<font color="#990000">);</font>
<font color="#000000">132:</font>   <font color="#FF0000">}</font>
<font color="#000000">133:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">134:</font> 
<font color="#000000">135:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">4</font><font color="#990000">:</font>
<font color="#000000">136:</font>   <b><font color="#000000">qsort</font></b><font color="#990000">(</font>dati<font color="#990000">,</font> nrighe<font color="#990000">,</font> <b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font><font color="#990000">),</font> confrontapopolazione<font color="#990000">);</font>
<font color="#000000">137:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">138:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">5</font><font color="#990000">:</font>
<font color="#000000">139:</font>   <b><font color="#000000">qsort</font></b><font color="#990000">(</font>dati<font color="#990000">,</font> nrighe<font color="#990000">,</font> <b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font><font color="#990000">),</font> confrontanome<font color="#990000">);</font>
<font color="#000000">140:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">141:</font>       <b><font color="#0000FF">case</font></b> <font color="#993399">6</font><font color="#990000">:</font>
<font color="#000000">142:</font>   fp <font color="#990000">=</font> <b><font color="#000000">fopen</font></b><font color="#990000">(</font><font color="#FF0000">"out.dat"</font><font color="#990000">,</font> <font color="#FF0000">"wb"</font><font color="#990000">);</font> <i><font color="#9A1900">// scrivo su file binario per semplicita' anche se in questo caso non e' la scelta migliore</font></i>
<font color="#000000">143:</font>   <b><font color="#0000FF">if</font></b><font color="#990000">(!</font>fp<font color="#990000">)</font>
<font color="#000000">144:</font>   <font color="#FF0000">{</font>
<font color="#000000">145:</font>     <b><font color="#000000">perror</font></b><font color="#990000">(</font><font color="#FF0000">"Errore apertura file in scrittura"</font><font color="#990000">);</font>
<font color="#000000">146:</font>     <b><font color="#000000">exit</font></b><font color="#990000">(</font>EXIT_FAILURE<font color="#990000">);</font>
<font color="#000000">147:</font>   <font color="#FF0000">}</font>
<font color="#000000">148:</font> 
<font color="#000000">149:</font>   <b><font color="#000000">fwrite</font></b><font color="#990000">(</font>dati<font color="#990000">,</font> <b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font><font color="#990000">),</font> nrighe<font color="#990000">,</font> fp<font color="#990000">);</font>
<font color="#000000">150:</font>   <b><font color="#000000">printf</font></b><font color="#990000">(</font><font color="#FF0000">"%lu byte scritti in ""out.dat""</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">comune</font><font color="#990000">)*</font>nrighe<font color="#990000">);</font>
<font color="#000000">151:</font>   <b><font color="#000000">fclose</font></b><font color="#990000">(</font>fp<font color="#990000">);</font>
<font color="#000000">152:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">153:</font> <b><font color="#008080">      default:</font></b>
<font color="#000000">154:</font>   <b><font color="#000000">fprintf</font></b><font color="#990000">(</font>stderr<font color="#990000">,</font> <font color="#FF0000">"Errore: scelta non valida</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
<font color="#000000">155:</font>   <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
<font color="#000000">156:</font>     <font color="#FF0000">}</font>
<font color="#000000">157:</font>   <font color="#FF0000">}</font>
<font color="#000000">158:</font> 
<font color="#000000">159:</font> 
<font color="#000000">160:</font> 
<font color="#000000">161:</font> 
<font color="#000000">162:</font> 
<font color="#000000">163:</font>   <b><font color="#0000FF">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
<font color="#000000">164:</font> <font color="#FF0000">}</font>
<font color="#000000">165:</font> 
<font color="#000000">166:</font> </tt></pre>


</body></html>